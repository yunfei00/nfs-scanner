# PROJECT_STATUS.md

## 项目名称
近场扫描系统（Near-Field Scanner）  
仓库代号：`nfs-scanner`  
技术栈：Python 3.x + PySide6 + NumPy + SQLite

---

## 一、项目目标（当前阶段共识）

构建一套 **可离线交付、可工程化扩展的近场扫描系统**，支持：

- 近场扫描任务管理与复扫
- 多 trace 数据可视化（热力图）
- 扫描过程自动化（队列 / 串行）
- 数据可导出、可复现、可交付
- 后续可接入真实仪表、相机、扫频与 AI 分析

当前定位：  
> **工程级 Demo → 商业级 V1 基线版本**

---

## 二、当前总体架构（已落地）

### 1. 应用结构

- **GUI 框架**：PySide6
- **主入口**：`app.py`
- **主窗口**：`MainWindow(store, cfg)`
- **状态管理**：`store`（任务 / 队列 / DB）
- **配置管理**：`cfg`（Roaming 目录）

---

### 2. 数据目录结构（已稳定）

```
Roaming/NFSScanner/
├── config/
├── db/
├── logs/
└── data/
    └── scans/
        └── <task_id>/
            ├── meta.json
            ├── traces/
            │   └── *.npz
            └── exports/
                ├── *.csv
                └── *.png
```

---

## 三、功能完成度总览

### 已完成（稳定）

- 扫描任务列表 / 详情
- 一键复扫（E1）
- 扫描队列（E2，串行 + SQLite 持久化）
- trace 下拉切换预览
- 热力图缩放 / 拖拽 / 取点
- LUT（含 jet）
- CSV / PNG 导出（基于 npz grid）

---

## 四、能力边界

**已具备**
- 单任务完整闭环
- 多任务串行自动执行
- 数据结构清晰、可复现
- UI 与底层解耦

**尚不具备**
- 参数模板复用
- 真仪表 driver 抽象
- 扫频 / 多频点
- 交付级打包报告

---

## 五、下一阶段候选

### E3 扫描模板库（推荐）
- 扫描参数模板化
- 模板加载 / 入队 / 复扫
- 参数资产化

### 仪表 / 相机接入
- driver 抽象
- trace 动态发现

### 扫频 / 多频点
- 多频数据管理
- 可视化扩展

### 一键打包导出
- zip 报告
- 客户交付

---

## 六、推荐执行顺序

1. 扫描模板库（E3）
2. 一键打包导出
3. 仪表 driver 抽象
4. 扫频 / 多频点

---

## 七、状态总结

> 扫描闭环已打通，数据结构成熟，  
> 当前阶段重点是 **资产化与交付化**。

---

## 八、维护说明

- 本文件记录真实进度
- 每完成一个模块即更新
- 不写未实现内容
